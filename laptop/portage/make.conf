# These settings were set by the catalyst build script that automatically
# built this stage.
# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.

# this CFLAGS is the same as using -march=native, to prevent possible
# distributed compiling issue later when I decided to do so...
# gcc-4.5.4
#CFLAGS="-O2 -pipe -march=core2 -mcx16 -msahf -maes -mpclmul -mpopcnt -mavx --param l1-cache-size=32 --param l1-cache-line-size=64 --param l2-cache-size=6144 -mtune=generic"
# gcc-4.6.3
CFLAGS="-O2 -pipe -march=corei7-avx -mcx16 -msahf -mno-movbe -maes -mpclmul -mpopcnt -mno-abm -mno-lwp -mno-fma -mno-fma4 -mno-xop -mno-bmi -mno-tbm -mavx -msse4.2 -msse4.1 --param l1-cache-size=32 --param l1-cache-line-size=64 --param l2-cache-size=6144 -mtune=corei7-avx"
CXXFLAGS="${CFLAGS}"
# WARNING: Changing your CHOST is not something that should be done lightly.
# Please consult http://www.gentoo.org/doc/en/change-chost.xml before changing.
CHOST="x86_64-pc-linux-gnu"

ACCEPT_KEYWORDS="~amd64"

# These are the USE flags that were used in addition to what is provided by the
# profile used for building.

# Processor characteristics
USE="mmx sse sse2 sse3 ssse3 sse4 smp avx"
# CLI features
USE="${USE} bash-completion ncurses readline zsh-completion"
# GUI features
USE="${USE} cairo dga dri fbcon fontconfig gtk gtk3 lcms libnotify opengl qt4 truetype wxwidgets"
USE="${USE} qt3support"  # after hardened profile switch
# Desktop environment (Xfce configuration)
USE="${USE} -gnome -kde thunar -networkmanager"
# File formats
USE="${USE} djvu"
USE="${USE} pdf ppds"  # after hardened profile switch
# X11
USE="${USE} X xcb xcomposite xft xinerama xorg xv xvmc gallium g3dvl openvg"
# Wayland
USE="${USE} wayland"
# Hardware features
USE="${USE} acpi alsa cdda cdr cups dvd dvdr gpm lm_sensors udev usb v4l v4l2 wifi"  # don't have bluetooth
# Programming language and devel things
USE="${USE} multilib -static-libs c++0x cxx fortran graphite java libffi nptl openmp pch perl php gd sharedext python threads vim-syntax"
# {,D}VCS of choice
USE="${USE} git mercurial subversion"
# Libraries
USE="${USE} bzip2 dbus fftw gdbm lzma mime mmap pcre sqlite3 zlib"  # postgres
USE="${USE} udisks upower"  # after hardened profile switch
# Kernel and system
USE="${USE} modules symlink syslog xattr"
# Network
USE="${USE} ftp ipv6 idn rdesktop rss gnutls ssl openssl tcpd vnc ldap -dhcpcd dhclient"
# Media features
# general
USE="${USE} bluray dts dvb encode ffmpeg gstreamer libass matroska mplayer ogg sdl taglib"
USE="${USE} pango"  # after hardened profile switch
# video
USE="${USE} aalib libcaca mp4 mpeg theora x264 xvid vaapi vdpau libv4l libv4l2"
# audio
# 20130524 xenon: add JACK for some really real-time things; also for USB audio switching
USE="${USE} a52 aac flac jack ladspa lame libsamplerate mad mp3 vorbis wavpack"
# image formats
USE="${USE} exif gif jpeg jpeg2k mng png raw svg tiff xpm"
# L10N things
USE="${USE} cjk unicode iconv nls spell"
# Security
USE="${USE} caps cracklib crypt gnome-keyring sasl"  # hardened
USE="${USE} policykit"  # after hardened profile switch
# Miscellaneous flags
USE="${USE} branding firefox lock -minimal nsplugin session startup-notification webkit xml"
# Init system
USE="${USE} -consolekit systemd"
# After hardened profile switch, keep the flags in place
# branding -- seems only mozilla things use that flag
# emboss and fam -- why did that enter my flag list?

# NOTE the hostname is resolved by /etc/hosts, so if that IP changed the entry needs to be updated
#GENTOO_MIRRORS="http://mirrors.stuhome.net/gentoo/ http://mirrors.xmu.edu.cn/gentoo/"
#GENTOO_MIRRORS="http://mirrors.xmu.edu.cn/gentoo/"
#GENTOO_MIRRORS="http://202.115.22.14/gentoo/"
GENTOO_MIRRORS="http://mirrors.163.com/gentoo/ http://mirrors.xmu.edu.cn/gentoo/"

#SYNC="rsync://rsync.cn.gentoo.org/gentoo-portage"
SYNC="rsync://mirrors.jnrain.com/gentoo-portage"

MAKEOPTS="-j8 -l12"  # "-j10"

LINGUAS="zh_CN zh en_US en"

EMERGE_DEFAULT_OPTS="--ask-enter-invalid"

FEATURES="nostrip parallel-install parallel-fetch userfetch userpriv usersandbox"

# XZ compress docs
PORTAGE_COMPRESS="xz"
PORTAGE_COMPRESS_FLAGS="-6"

# ABI
#ABI_X86="64 32"

# Python targets
PYTHON_TARGETS="python2_7 python3_3 python3_4"  # pypy
PYTHON_SINGLE_TARGET="python2_7"
USE_PYTHON="2.7 3.3 3.4"

# Ruby
RUBY_TARGETS="ruby20 ruby21"

# X11 things
INPUT_DEVICES="evdev synaptics"
VIDEO_CARDS="radeon intel i965 r600"

# Sound cards
ALSA_CARDS="hda-intel usb-audio"

# QEMU targets
QEMU_SOFTMMU_TARGETS="alpha arm cris i386 lm32 m68k microblaze microblazeel mips mips64 mips64el mipsel or32 ppc ppc64 ppcemb s390x sh4 sh4eb sparc sparc64 unicore32 x86_64"
QEMU_USER_TARGETS="arm mips64el"

# overlay
PORTDIR_OVERLAY="/usr/local/portage
/home/xenon/kodez/gentoo-zh"

source /var/lib/layman/make.conf

PORTDIR_OVERLAY="${PORTDIR_OVERLAY}
/usr/local/crossdev-portage"
